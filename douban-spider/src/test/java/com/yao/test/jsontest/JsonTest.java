package com.yao.test.jsontest;

import com.yao.douban.douban.entity.move.Move;
import com.yao.douban.douban.parsers.DoubanPageParser;
import com.yao.douban.douban.parsers.DoubanParserFactory;
import com.yao.douban.douban.parsers.move.MoveParser;
import net.sf.json.JSONArray;
import net.sf.json.JSONObject;
import net.sf.json.JsonConfig;

import java.util.List;

/**
 * Created by user on 2018/2/8.
 */
public class JsonTest {
    public static void main(String[] args) {
        String context = "[{\"rating\":[\"9.2\",\"45\"],\"rank\":21,\"cover_url\":\"https://img3.doubanio.com\\/view\\/photo\\/s_ratio_poster\\/public\\/p2206088801.jpg\",\"is_playable\":true,\"id\":\"1889243\",\"types\":[\"剧情\",\"科幻\",\"冒险\"],\"regions\":[\"美国\",\"英国\",\"加拿大\",\"冰岛\"],\"title\":\"星际穿越\",\"url\":\"https:\\/\\/movie.douban.com\\/subject\\/1889243\\/\",\"release_date\":\"2014-11-12\",\"actor_count\":28,\"vote_count\":530258,\"score\":\"9.2\",\"actors\":[\"马修·麦康纳\",\"安妮·海瑟薇\",\"杰西卡·查斯坦\",\"卡西·阿弗莱克\",\"迈克尔·凯恩\",\"马特·达蒙\",\"麦肯吉·弗依\",\"蒂莫西·柴勒梅德\",\"艾伦·伯斯汀\",\"约翰·利思戈\",\"韦斯·本特利\",\"大卫·吉雅西\",\"比尔·欧文\",\"托弗·戈瑞斯\",\"科莱特·沃夫\",\"弗朗西斯·X·麦卡蒂\",\"安德鲁·博尔巴\",\"乔什·斯图沃特\",\"莱雅·卡里恩斯\",\"利亚姆·迪金森\",\"杰夫·赫普内尔\",\"伊莱耶斯·加贝尔\",\"布鲁克·史密斯\",\"大卫·奥伊罗\",\"威廉姆·德瓦内\",\"拉什·费加\",\"格里芬·弗雷泽\",\"弗洛拉·诺兰\"],\"is_watched\":false},{\"rating\":[\"9.2\",\"50\"],\"rank\":22,\"cover_url\":\"https://img3.doubanio.com\\/view\\/photo\\/s_ratio_poster\\/public\\/p524964016.jpg\",\"is_playable\":true,\"id\":\"3011091\",\"types\":[\"剧情\"],\"regions\":[\"美国\",\"英国\"],\"title\":\"忠犬八公的故事\",\"url\":\"https:\\/\\/movie.douban.com\\/subject\\/3011091\\/\",\"release_date\":\"2009-06-13\",\"actor_count\":8,\"vote_count\":502798,\"score\":\"9.2\",\"actors\":[\"理查·基尔\",\"萨拉·罗默尔\",\"琼·艾伦\",\"罗比·萨布莱特\",\"艾瑞克·阿瓦利\",\"田川洋行\",\"杰森·亚历山大\",\"罗伯特·卡普荣\"],\"is_watched\":false},{\"rating\":[\"9.2\",\"50\"],\"rank\":23,\"cover_url\":\"https://img3.doubanio.com\\/view\\/photo\\/s_ratio_poster\\/public\\/p1910824951.jpg\",\"is_playable\":true,\"id\":\"1291549\",\"types\":[\"剧情\",\"音乐\"],\"regions\":[\"法国\",\"瑞士\",\"德国\"],\"title\":\"放牛班的春天\",\"url\":\"https:\\/\\/movie.douban.com\\/subject\\/1291549\\/\",\"release_date\":\"2004-10-16\",\"actor_count\":15,\"vote_count\":491483,\"score\":\"9.2\",\"actors\":[\"热拉尔·朱尼奥\",\"让-巴蒂斯特·莫尼耶\",\"弗朗索瓦·贝莱昂\",\"凯德·麦拉德\",\"玛丽·布奈尔\",\"马科森斯·珀林\",\"让-保罗·博奈雷\",\"格雷戈里·加迪诺尔\",\"托马斯·布伦门塔尔\",\"Cyril Bernicot\",\"Simon Fargeot\",\"Théodule Carré-Cassaigne\",\"Philippe du Janerand\",\"卡罗尔·韦斯\",\"Erick Desmarestz\"],\"is_watched\":false},{\"rating\":[\"9.2\",\"50\"],\"rank\":24,\"cover_url\":\"https://img3.doubanio.com\\/view\\/photo\\/s_ratio_poster\\/public\\/p2190556185.jpg\",\"is_playable\":true,\"id\":\"1291841\",\"types\":[\"剧情\",\"犯罪\"],\"regions\":[\"美国\"],\"title\":\"教父\",\"url\":\"https:\\/\\/movie.douban.com\\/subject\\/1291841\\/\",\"release_date\":\"1972-03-15\",\"actor_count\":15,\"vote_count\":370648,\"score\":\"9.2\",\"actors\":[\"马龙·白兰度\",\"阿尔·帕西诺\",\"詹姆斯·肯恩\",\"理查德·卡斯特尔诺\",\"罗伯特·杜瓦尔\",\"斯特林·海登\",\"约翰·马利\",\"理查德·康特\",\"艾尔·勒提埃里\",\"黛安·基顿\",\"阿贝·维高达\",\"塔莉娅·夏尔\",\"吉亚尼·罗素\",\"约翰·凯泽尔\",\"鲁迪·邦德\"],\"is_watched\":false},{\"rating\":[\"9.2\",\"50\"],\"rank\":25,\"cover_url\":\"https://img3.doubanio.com\\/view\\/photo\\/s_ratio_poster\\/public\\/p1363250216.jpg\",\"is_playable\":false,\"id\":\"5912992\",\"types\":[\"剧情\"],\"regions\":[\"韩国\"],\"title\":\"熔炉\",\"url\":\"https:\\/\\/movie.douban.com\\/subject\\/5912992\\/\",\"release_date\":\"2011-09-22\",\"actor_count\":8,\"vote_count\":292104,\"score\":\"9.2\",\"actors\":[\"孔侑\",\"郑有美\",\"金志英\",\"金贤秀\",\"郑仁絮\",\"白承焕\",\"张光\",\"严孝燮\"],\"is_watched\":false},{\"rating\":[\"9.2\",\"50\"],\"rank\":26,\"cover_url\":\"https://img3.doubanio.com\\/view\\/photo\\/s_ratio_poster\\/public\\/p1963126880.jpg\",\"is_playable\":true,\"id\":\"1300267\",\"types\":[\"剧情\",\"历史\",\"爱情\",\"战争\"],\"regions\":[\"美国\"],\"title\":\"乱世佳人\",\"url\":\"https:\\/\\/movie.douban.com\\/subject\\/1300267\\/\",\"release_date\":\"1939-12-15\",\"actor_count\":32,\"vote_count\":289564,\"score\":\"9.2\",\"actors\":[\"托马斯·米切尔\",\"芭芭拉·欧内尔\",\"费雯·丽\",\"伊夫林·凯耶斯\",\"安·卢瑟福德\",\"乔治·里弗斯\",\"弗莱德·克莱恩\",\"海蒂·麦克丹尼尔斯\",\"奥斯卡·波尔克\",\"巴特弗莱·麦昆\",\"维克托·乔里\",\"埃弗雷特·布朗\",\"霍华德·C·希克曼\",\"艾丽西亚·瑞特\",\"莱斯利·霍华德\",\"奥利维娅·德·哈维兰\",\"兰德·布鲁克斯\",\"卡洛尔·奈\",\"克拉克·盖博\",\"劳拉·霍普·克鲁斯\",\"埃迪·安德森\",\"哈里·达文波特\",\"利昂娜·罗伯特\",\"简·达威尔\",\"欧娜·满森\",\"保罗·赫斯特\",\"伊莎贝尔·朱尔\",\"卡米·金·肯伦\",\"艾瑞克·林登\",\"J·M·克里根\",\"沃德·邦德\",\"莉莲·肯布尔-库珀\"],\"is_watched\":false},{\"rating\":[\"9.2\",\"45\"],\"rank\":27,\"cover_url\":\"https://img3.doubanio.com\\/view\\/photo\\/s_ratio_poster\\/public\\/p1181775734.jpg\",\"is_playable\":false,\"id\":\"1291858\",\"types\":[\"剧情\",\"战争\"],\"regions\":[\"中国大陆\"],\"title\":\"鬼子来了\",\"url\":\"https:\\/\\/movie.douban.com\\/subject\\/1291858\\/\",\"release_date\":\"2000-05-12\",\"actor_count\":15,\"vote_count\":248764,\"score\":\"9.2\",\"actors\":[\"姜文\",\"香川照之\",\"袁丁\",\"姜宏波\",\"陈强\",\"丛志军\",\"喜子\",\"李海滨\",\"泽田谦也\",\"蔡卫东\",\"陈莲梅\",\"宫路佳具\",\"吴大维\",\"梶冈润一\",\"姜武\"],\"is_watched\":false},{\"rating\":[\"9.2\",\"45\"],\"rank\":28,\"cover_url\":\"https://img3.doubanio.com\\/view\\/photo\\/s_ratio_poster\\/public\\/p2173580603.jpg\",\"is_playable\":true,\"id\":\"1303021\",\"types\":[\"剧情\",\"家庭\",\"儿童\"],\"regions\":[\"伊朗\"],\"title\":\"小鞋子\",\"url\":\"https:\\/\\/movie.douban.com\\/subject\\/1303021\\/\",\"release_date\":\"1999-01-22\",\"actor_count\":5,\"vote_count\":147007,\"score\":\"9.2\",\"actors\":[\"Amir Farrokh Hashemian\",\"默罕默德·阿米尔·纳吉\",\"Bahare Seddiqi\",\"Nafise Jafar-Mohammadi\",\"Fereshte Sarabandi\"],\"is_watched\":false},{\"rating\":[\"9.2\",\"45\"],\"rank\":29,\"cover_url\":\"https://img3.doubanio.com\\/view\\/photo\\/s_ratio_poster\\/public\\/p2173707976.jpg\",\"is_playable\":true,\"id\":\"1294371\",\"types\":[\"喜剧\",\"剧情\",\"爱情\"],\"regions\":[\"美国\"],\"title\":\"摩登时代\",\"url\":\"https:\\/\\/movie.douban.com\\/subject\\/1294371\\/\",\"release_date\":\"1936-02-25\",\"actor_count\":5,\"vote_count\":93360,\"score\":\"9.2\",\"actors\":[\"查理·卓别林\",\"宝莲·高黛\",\"亨利·伯格曼\",\"Tiny Sandford\",\"切斯特·康克林\"],\"is_watched\":false},{\"rating\":[\"9.2\",\"45\"],\"rank\":30,\"cover_url\":\"https://img3.doubanio.com\\/view\\/photo\\/s_ratio_poster\\/public\\/p647099823.jpg\",\"is_playable\":true,\"id\":\"1295399\",\"types\":[\"动作\",\"冒险\",\"剧情\"],\"regions\":[\"日本\"],\"title\":\"七武士\",\"url\":\"https:\\/\\/movie.douban.com\\/subject\\/1295399\\/\",\"release_date\":\"1954-04-26\",\"actor_count\":7,\"vote_count\":79587,\"score\":\"9.2\",\"actors\":[\"三船敏郎\",\"志村乔\",\"稻叶义男\",\"宫口精二\",\"千秋实\",\"加东大介\",\"木村功\"],\"is_watched\":false},{\"rating\":[\"9.2\",\"45\"],\"rank\":31,\"cover_url\":\"https://img3.doubanio.com\\/view\\/photo\\/s_ratio_poster\\/public\\/p1910832390.jpg\",\"is_playable\":true,\"id\":\"1291568\",\"types\":[\"剧情\",\"家庭\"],\"regions\":[\"日本\"],\"title\":\"东京物语\",\"url\":\"https:\\/\\/movie.douban.com\\/subject\\/1291568\\/\",\"release_date\":\"1953-11-03\",\"actor_count\":6,\"vote_count\":51129,\"score\":\"9.2\",\"actors\":[\"笠智众\",\"原节子\",\"杉村春子\",\"东山千荣子\",\"山村聪\",\"香川京子\"],\"is_watched\":false},{\"rating\":[\"9.2\",\"50\"],\"rank\":32,\"cover_url\":\"https://img3.doubanio.com\\/view\\/photo\\/s_ratio_poster\\/public\\/p2099815842.jpg\",\"is_playable\":true,\"id\":\"1293908\",\"types\":[\"喜剧\",\"剧情\",\"爱情\"],\"regions\":[\"美国\"],\"title\":\"城市之光\",\"url\":\"https:\\/\\/movie.douban.com\\/subject\\/1293908\\/\",\"release_date\":\"1931-01-30\",\"actor_count\":5,\"vote_count\":44420,\"score\":\"9.2\",\"actors\":[\"查理·卓别林\",\"弗吉尼亚·切瑞尔\",\"佛罗伦斯·李\",\"亨利·伯格曼\",\"珍·哈露\"],\"is_watched\":false},{\"rating\":[\"9.2\",\"50\"],\"rank\":33,\"cover_url\":\"https://img1.doubanio.com\\/view\\/photo\\/s_ratio_poster\\/public\\/p771490367.jpg\",\"is_playable\":true,\"id\":\"1293749\",\"types\":[\"剧情\",\"爱情\",\"奇幻\"],\"regions\":[\"美国\"],\"title\":\"生活多美好\",\"url\":\"https:\\/\\/movie.douban.com\\/subject\\/1293749\\/\",\"release_date\":\"1946-12-20\",\"actor_count\":5,\"vote_count\":34631,\"score\":\"9.2\",\"actors\":[\"詹姆斯·斯图尔特\",\"唐娜·里德\",\"莱昂纳尔·巴里摩尔\",\"托马斯·米切尔\",\"亨利·崔佛斯\"],\"is_watched\":false},{\"rating\":[\"9.2\",\"45\"],\"rank\":34,\"cover_url\":\"https://img3.doubanio.com\\/view\\/photo\\/s_ratio_poster\\/public\\/p1184780820.jpg\",\"is_playable\":false,\"id\":\"1424334\",\"types\":[\"犯罪\",\"剧情\",\"惊悚\"],\"regions\":[\"法国\",\"意大利\"],\"title\":\"洞\",\"url\":\"https:\\/\\/movie.douban.com\\/subject\\/1424334\\/\",\"release_date\":\"1960-03-18\",\"actor_count\":5,\"vote_count\":20243,\"score\":\"9.2\",\"actors\":[\"马克·米歇尔\",\"吉恩·凯乐蒂\",\"菲利普·勒鲁瓦\",\"迈克尔·康斯坦丁\",\"雷蒙德·梅尼尔\"],\"is_watched\":false},{\"rating\":[\"9.2\",\"45\"],\"rank\":35,\"cover_url\":\"https://img3.doubanio.com\\/view\\/photo\\/s_ratio_poster\\/public\\/p2151748293.jpg\",\"is_playable\":true,\"id\":\"1304920\",\"types\":[\"剧情\"],\"regions\":[\"日本\"],\"title\":\"切腹\",\"url\":\"https:\\/\\/movie.douban.com\\/subject\\/1304920\\/\",\"release_date\":\"1962-09-16\",\"actor_count\":14,\"vote_count\":11234,\"score\":\"9.2\",\"actors\":[\"仲代达矢\",\"石浜朗\",\"岩下志麻\",\"丹波哲郎\",\"三岛雅夫\",\"中谷一郎\",\"佐藤庆\",\"稻叶义男\",\"井川比佐志\",\"武内亨\",\"青木义朗\",\"松村达雄\",\"小林昭二\",\"三国连太郎\"],\"is_watched\":false},{\"rating\":[\"9.2\",\"45\"],\"rank\":36,\"cover_url\":\"https://img3.doubanio.com\\/view\\/photo\\/s_ratio_poster\\/public\\/p2029574250.jpg\",\"is_playable\":true,\"id\":\"4719384\",\"types\":[\"剧情\",\"爱情\",\"家庭\"],\"regions\":[\"中国大陆\"],\"title\":\"哀乐中年\",\"url\":\"https:\\/\\/movie.douban.com\\/subject\\/4719384\\/\",\"release_date\":\"1949\",\"actor_count\":17,\"vote_count\":4885,\"score\":\"9.2\",\"actors\":[\"石挥\",\"朱嘉琛\",\"沈扬\",\"李浣青\",\"韩非\",\"崔超明\",\"程之\",\"路珊\",\"莫愁\",\"胡小琴\",\"顾慕如\",\"俞仲英\",\"伊斯兰\",\"叶明\",\"林榛\",\"田振东\",\"周瑞德\"],\"is_watched\":false},{\"rating\":[\"9.2\",\"45\"],\"rank\":37,\"cover_url\":\"https://img3.doubanio.com\\/view\\/photo\\/s_ratio_poster\\/public\\/p2321248846.jpg\",\"is_playable\":true,\"id\":\"1473562\",\"types\":[\"剧情\",\"冒险\"],\"regions\":[\"美国\"],\"title\":\"丛林赤子心\",\"url\":\"https:\\/\\/movie.douban.com\\/subject\\/1473562\\/\",\"release_date\":\"1987-06-05\",\"actor_count\":3,\"vote_count\":3752,\"score\":\"9.2\",\"actors\":[\"Benji\",\"Joe Camp\",\"Mike Francis\"],\"is_watched\":false},{\"rating\":[\"9.1\",\"45\"],\"rank\":38,\"cover_url\":\"https://img3.doubanio.com\\/view\\/photo\\/s_ratio_poster\\/public\\/p479682972.jpg\",\"is_playable\":true,\"id\":\"1292064\",\"types\":[\"剧情\",\"科幻\"],\"regions\":[\"美国\"],\"title\":\"楚门的世界\",\"url\":\"https:\\/\\/movie.douban.com\\/subject\\/1292064\\/\",\"release_date\":\"1998-06-05\",\"actor_count\":5,\"vote_count\":503252,\"score\":\"9.1\",\"actors\":[\"金·凯瑞\",\"劳拉·琳妮\",\"艾德·哈里斯\",\"诺亚·艾默里奇\",\"娜塔莎·麦克艾霍恩\"],\"is_watched\":false},{\"rating\":[\"9.1\",\"45\"],\"rank\":39,\"cover_url\":\"https://img3.doubanio.com\\/view\\/photo\\/s_ratio_poster\\/public\\/p2457983084.jpg\",\"is_playable\":true,\"id\":\"26387939\",\"types\":[\"剧情\",\"传记\",\"运动\",\"家庭\"],\"regions\":[\"印度\"],\"title\":\"摔跤吧！爸爸\",\"url\":\"https:\\/\\/movie.douban.com\\/subject\\/26387939\\/\",\"release_date\":\"2017-05-05\",\"actor_count\":9,\"vote_count\":473178,\"score\":\"9.1\",\"actors\":[\"阿米尔·汗\",\"法缇玛·萨那·纱卡\",\"桑亚·玛荷塔\",\"阿帕尔夏克提·库拉那\",\"沙克希·坦沃\",\"塞伊拉·沃西\",\"苏哈妮·巴特纳格尔\",\"里特维克·萨霍里\",\"吉里什·库卡尼\"],\"is_watched\":false},{\"rating\":[\"9.1\",\"45\"],\"rank\":40,\"cover_url\":\"https://img3.doubanio.com\\/view\\/photo\\/s_ratio_poster\\/public\\/p1454261925.jpg\",\"is_playable\":true,\"id\":\"6786002\",\"types\":[\"剧情\",\"喜剧\"],\"regions\":[\"法国\"],\"title\":\"触不可及\",\"url\":\"https:\\/\\/movie.douban.com\\/subject\\/6786002\\/\",\"release_date\":\"2011-11-02\",\"actor_count\":5,\"vote_count\":397271,\"score\":\"9.1\",\"actors\":[\"弗朗索瓦·克鲁塞\",\"奥玛·希\",\"安娜·勒尼\",\"奥德雷·弗勒罗\",\"托马·索利韦尔\"],\"is_watched\":false}]";
//        DoubanPageParser doubanPageParser = DoubanParserFactory.getDoubanParserFactory(MoveParser.class);
//        doubanPageParser.parser(context);
//
        JsonConfig jsonConfig = new JsonConfig();
        String[] excludes = new String[]{"rating", "rank","cover_url","cover_url"};
        jsonConfig.setExcludes(excludes);
//        JSONObject object = JSONObject.fromObject(context, jsonConfig);

        JSONArray jsonArray = JSONArray.fromObject(context, jsonConfig);
        JSONObject jsonObject = (JSONObject) jsonArray.get(0);
        /*for (int i = 0; i < jsonArray.size(); i++) {
            JSONObject object = (JSONObject) jsonArray.get(i);
            List<String> listPar = (List<String>) jsonObject.get("types");
            String temp = "";
            for (String par : listPar) {
                temp += "\\" + par;
            }
            ((JSONObject) jsonArray.get(i)).put("types",temp);
        }*/
        List<String> listPar = (List<String>) jsonObject.get("types");
        for (String par : listPar) {

        }
        List<Move> list = (List<Move>) jsonArray.toCollection(jsonArray, Move.class);
        System.out.println(list);
//        System.out.println(object);
    }
}
